전체 Task 구조 개요 (PRD v2 반영)

``` plain text
Epic
 ├─ Timeline UI 기반 구조
 ├─ Time Grid & Pixel System
 ├─ Plan 관리 기능
 ├─ Execution 관리 기능
 ├─ Drag & Resize 인터랙션 (10분 스냅)
 ├─ 비교/달성률 로직
 ├─ 헤더 영역 & 날짜 네비게이션 (확장)
 │   ├─ 날짜 네비게이션 (화살표 버튼)
 │   ├─ 캘린더 위젯
 │   ├─ 대표 일정 Chip
 │   └─ 통계 정보 영역
 ├─ 데이터 모델 & Mock/API
 └─ 모바일(WebView) 대응
```

⸻

1. 타임라인 기본 UI 구조

Task 1-1. Day Timeline 페이지 기본 레이아웃 구성

난이도: 4 / 10
	•	시간 / 계획 / 실행 3컬럼 레이아웃
	•	헤더 영역(날짜, 대표 일정, 요약 정보) 배치
	•	스크롤 가능한 타임라인 컨테이너 구성

⸻

Task 1-2. 시간 컬럼 UI 구현 (1시간 단위)

난이도: 3 / 10
	•	1시간 단위 시간 레이블 렌더링
	•	고정 폭 컬럼 처리
	•	스크롤 시 위치 동기화

⸻

2. 타임라인 그리드 & 픽셀 시스템

Task 2-1. 30분 단위 그리드 렌더링

난이도: 4 / 10
	•	Plan / Execution 컬럼에 30분 기준 그리드 표시
	•	시각적 가이드용 라인 구현

⸻

Task 2-2. 시간 → 픽셀 변환 유틸 구현

난이도: 5 / 10
	•	분 단위 시간을 px로 변환
	•	10분 스냅 단위 반영 (고정)
	•	공통 유틸(shared/lib/time)
	•	유틸 함수:
		- timeToPixel(time: string): number
		- pixelsToMinutes(pixels: number): number
		- snapToGrid(minutes: number, snapUnit: number): number

⸻

3. Plan(계획) 블록 기능

Task 3-1. Plan 데이터 모델 및 Mock 정의

난이도: 3 / 10
	•	Plan 타입 정의
	•	JSON Mock 데이터 작성

⸻

Task 3-2. Plan 블록 렌더링

난이도: 4 / 10
	•	시간 기반 위치/높이 계산
	•	과목 색상 적용
	•	텍스트 말줄임 처리

⸻

Task 3-3. Plan 겹침 처리 로직

난이도: 6 / 10
	•	시간 겹침 감지
	•	2개 수직 분할
	•	3개 이상 +N 처리

⸻

4. Execution(실행) 블록 기능

Task 4-1. Execution 데이터 모델 및 Mock 정의

난이도: 3 / 10
	•	linkedPlanId nullable 구조 반영
	•	독립 실행 허용 모델링

⸻

Task 4-2. Execution 블록 렌더링

난이도: 4 / 10
	•	Plan과 동일한 타임라인 규칙 적용
	•	계획 기반 생성 시 기본값 세팅

⸻

Task 4-3. Execution 겹침 처리

난이도: 5 / 10
	•	Plan과 동일한 로직 재사용
	•	Execution 전용 컬럼 처리

⸻

5. Drag & Resize 인터랙션 (고난이도 분해 영역)

⚠️ 원래 단일 Task 시 9~10점 예상 → Sub-Task 분해

⸻

Task 5-1. 빈 영역 드래그 → 블록 생성

난이도: 7 / 10
	•	트리거: 빈 공간 마우스다운 + 드래그
	•	드래그 시작/종료 지점 → 시작/종료 시간 계산
	•	10분 단위 스냅 적용
	•	최소 생성 길이: 10분
	•	실시간 미리보기 블록 표시 (반투명)
	•	드래그 종료 시 블록 생성 모달/폼 표시

⸻

Task 5-2. 블록 이동(Drag & Drop)

난이도: 7 / 10
	•	트리거: 블록 전체 영역 드래그
	•	시작/종료 시간 간격 유지
	•	10분 단위 스냅 적용
	•	동일 컬럼 내 이동만 허용 (Plan ↔ Execution 금지)
	•	이동 중:
		- opacity 70%
		- shadow 효과
		- 실시간 위치 업데이트
	•	드롭 시 애니메이션

⸻

Task 5-3. 블록 리사이즈(상/하단 핸들)

난이도: 7 / 10
	•	핸들 UI:
		- 평소: 투명 (invisible)
		- 호버: 반투명 (opacity 30%)
		- 높이: 8px
		- 커서: ns-resize
	•	상단 핸들: 시작 시간 변경
	•	하단 핸들: 종료 시간 변경
	•	10분 단위 스냅 적용
	•	최소 블록 길이: 10분
	•	시간 제약:
		- 시작 < 종료 유지
		- 시작은 종료 이상으로 조정 불가
		- 종료는 시작 이하로 조정 불가
	•	리사이즈 중:
		- opacity 70%
		- 실시간 높이 업데이트

⸻

6. 비교 로직 & 달성률

Task 6-1. Plan ↔ Execution 연결 로직

난이도: 6 / 10
	•	linkedPlanId 기반 매핑
	•	실행 존재 여부 판단

⸻

Task 6-2. 달성률 계산 유틸

난이도: 4 / 10
	•	실행 시간 합산
	•	계획 대비 퍼센트 계산

⸻

Task 6-3. 미실행/달성률 UI 표시

난이도: 5 / 10
	•	미실행 시 흐림/점선 처리
	•	달성률 배지 표시

⸻

7. 헤더 영역 & 날짜 네비게이션 (PRD 9장 반영)

Task 7-1. 헤더 2섹션 구조 구현

난이도: 4 / 10
	•	Section 1: 날짜 네비게이션 영역
	•	Section 2: 통계 정보 영역
	•	섹션 간 구분 스타일 적용
	•	반응형 레이아웃 (모바일/데스크톱)

⸻

Task 7-2. 날짜 상태 관리 & 로딩

난이도: 3 / 10
	•	현재 날짜 상태 (useState)
	•	날짜 변경 시 데이터 리로드
	•	날짜 포맷 유틸 (YYYY.MM.DD)

⸻

Task 7-3. 화살표 버튼 날짜 이동

난이도: 5 / 10
	•	◀◀ (오늘로 이동)
	•	◀ (이전 날짜)
	•	▶ (다음 날짜)
	•	▶▶ (마지막 날짜, 또는 비활성화)
	•	버튼 클릭 시 타임라인 갱신

⸻

Task 7-4. 캘린더 위젯 구현

난이도: 7 / 10
	•	날짜 클릭 시 캘린더 팝업/드롭다운
	•	월 선택 UI (◀ YYYY년 M월 ▶)
	•	날짜 그리드 렌더링 (일~토)
	•	오늘 날짜 하이라이트
	•	선택된 날짜 표시
	•	데이터 있는 날짜 점 표시
		- 계획만: 파란 점
		- 실행만: 초록 점
		- 둘 다: 2색 점
	•	날짜 선택 시 캘린더 닫기 + 데이터 로드
	•	외부 영역 클릭 시 닫기

⸻

Task 7-5. 좌우 스와이프 날짜 이동 (모바일)

난이도: 6 / 10
	•	좌 스와이프: 다음 날
	•	우 스와이프: 이전 날
	•	스와이프 감지 로직
	•	드래그와 충돌 방지 처리

⸻

Task 7-6. 대표 일정 Chip UI 구현

난이도: 5 / 10
	•	Chip 컴포넌트 (태그 형태)
	•	복수 대표 일정 표시
	•	스타일:
		- 연한 파스텔 배경
		- 둥근 모서리 (16px)
		- 패딩: 6px 12px
	•	최대 3개 표시, 초과 시 +N
	•	Chip 클릭 시 상세 이동 (Optional)
	•	가로 스크롤 또는 줄바꿈 처리

⸻

Task 7-7. 통계 정보 영역 구현

난이도: 5 / 10
	•	계획 총 시간 계산 & 표시
	•	실행 총 시간 계산 & 표시
	•	달성률 계산 & 표시
	•	색상 구분:
		- 계획: 파란색 계열
		- 실행: 초록색 계열
		- 달성률: 조건부 색상
			* 80% 이상: 초록
			* 50~80%: 노랑
			* 50% 미만: 빨강
	•	시간 포맷팅 (예: 7시간 30분)

⸻

8. 데이터 계층 & API 대비

Task 8-1. JSON Mock 데이터 로딩 구조

난이도: 3 / 10
	•	Mock → State 연결
	•	실제 API 교체 대비 구조 유지
	•	날짜별 데이터 필터링

⸻

Task 8-2. 캘린더용 데이터 집계

난이도: 4 / 10
	•	월별 데이터 요약
	•	날짜별 계획/실행 존재 여부
	•	캘린더 점 표시용 데이터 제공

⸻

Task 8-3. FastAPI 스켈레톤 구성 (Optional)

난이도: 6 / 10
	•	plans / executions / date-events 라우터
	•	Response Schema 정의

⸻

9. 모바일(WebView) 대응

Task 9-1. 모바일 레이아웃 대응

난이도: 5 / 10
	•	터치 영역 보정
	•	스크롤/드래그 충돌 최소화

⸻

Task 9-2. WebView 제스처 충돌 처리

난이도: 6 / 10
	•	스와이프 vs 드래그 우선순위
	•	iOS/Android 공통 처리

⸻

⸻

전체 Task 요약 & 개발 우선순위

⸻

난이도 분포

	•	난이도 3: 6개 (기본 구조, 데이터 모델)
	•	난이도 4: 6개 (UI 렌더링, 기본 로직)
	•	난이도 5: 9개 (상태 관리, 계산 로직)
	•	난이도 6: 6개 (겹침 처리, 연결 로직)
	•	난이도 7: 4개 (드래그/리사이즈 인터랙션, 캘린더 위젯)

총 Task 수: 31개

⸻

권장 개발 순서 (Phase별)

Phase 1: 기본 구조 & 렌더링 (완료)
	✅	Task 1-1, 1-2: 레이아웃 구성
	✅	Task 2-1, 2-2: 그리드 & 픽셀 시스템
	✅	Task 3-1, 3-2: Plan 렌더링
	✅	Task 4-1, 4-2: Execution 렌더링
	✅	Task 8-1: Mock 데이터 로딩

Phase 2: 겹침 처리 (완료)
	✅	Task 3-3: Plan 겹침 처리
	✅	Task 4-3: Execution 겹침 처리

Phase 3: 인터랙션 (완료)
	✅	Task 5-1: 블록 생성
	✅	Task 5-2: 블록 이동
	✅	Task 5-3: 블록 리사이즈

Phase 4: 헤더 & 날짜 네비게이션 (다음)
	🔄	Task 7-1: 헤더 2섹션 구조
	🔄	Task 7-2: 날짜 상태 관리
	🔄	Task 7-3: 화살표 버튼
	🔄	Task 7-6: 대표 일정 Chip
	🔄	Task 7-7: 통계 정보 영역

Phase 5: 캘린더 위젯 (후순위)
	⏸️	Task 7-4: 캘린더 위젯
	⏸️	Task 8-2: 캘린더용 데이터 집계

Phase 6: 비교 & 달성률 (후순위)
	⏸️	Task 6-1: Plan-Execution 연결
	⏸️	Task 6-2: 달성률 계산
	⏸️	Task 6-3: 미실행/달성률 UI

Phase 7: 모바일 대응 (최종)
	⏸️	Task 7-5: 스와이프 날짜 이동
	⏸️	Task 9-1: 모바일 레이아웃
	⏸️	Task 9-2: WebView 제스처

Phase 8: 백엔드 (Optional)
	⏸️	Task 8-3: FastAPI 스켈레톤

⸻

핵심 포인트

	1.	10분 스냅 단위 고정 (PRD 4.1 반영)
	2.	헤더 2섹션 구조 (날짜 네비게이션 + 통계)
	3.	캘린더 위젯은 고난이도 (7/10)
	4.	드래그/리사이즈는 이미 구현 완료
	5.	다음 단계: Phase 4 (헤더 & 날짜 네비게이션)

⸻